# ----------------------------------------------------------------------------------------------- #
#   Global variables
# ----------------------------------------------------------------------------------------------- #
- PATH: &H2_cs_path
    U:/__[FileSync]__/Coding/Python/CrossSectionFile/H2
- H2_vib: &H2_vib_0-14
    [
    H2,      H2(v1),  H2(v2),  H2(v3),  H2(v4),
    H2(v5),  H2(v6),  H2(v7),  H2(v8),  H2(v9),
    H2(v10), H2(v11), H2(v12), H2(v13), H2(v14)
    ]

- H2_vib: &H2_vib_0-13
    [
    H2,      H2(v1),  H2(v2),  H2(v3),  H2(v4),
    H2(v5),  H2(v6),  H2(v7),  H2(v8),  H2(v9),
    H2(v10), H2(v11), H2(v12), H2(v13)
    ]


- Molecule:
    mass:
        - &CO2_mass   44
        - &CO_mass    28

# - CO_vib: &CO_vib
#     !eval "['CO'] + ['CO(v{v})'.format(v=v) for v in range(1, 64)]"

# ----------------------------------------------------------------------------------------------- #
#   H2 kinectic
# ----------------------------------------------------------------------------------------------- #
# - Rctn_block: &H2_ele_vib_rctn
#     type:
#         excitation
#     formula:
#         E + A@ => E + B@
#     threshold:
#         !eval "[H2_vib_energy(v=b)-H2_vib_energy(v=a) 
#                 for a in range(15) 
#                 for b in range(15) if a!=b]"
#     kstr:
#         "cs_path/H2(X)_to_H2(X)_vibexc/A@_to_B@.csv"
#     lambda: 
#         !eval "lambda x: 
#             [x.replace('A@', f'H2(v{a})').replace('B@', f'H2(v{b})').replace('H2(v0)', 'H2')
#             for a in range(15)
#             for b in range(15) if a!=b]"
#     where:
#         abbr:
#             - cs_path: *H2_cs_path
# ----------------------------------------------------------------------------------------------- #
#   H2 ele vibrational excitation
# ----------------------------------------------------------------------------------------------- #
- Rctn_block: &H2_ele_vib_rctn_forward
    type:
        excitation
    formula:
        E + A@ => E + B@
    threshold:
        !eval "[H2_vib_energy_in_eV(v=_to) - H2_vib_energy_in_eV(v=_from) 
                for _from in range(15) 
                for _to in range(15) if _from < _to]"
    kstr:
        "cs_path/H2(X)_to_H2(X)_vibexc/A@_to_B@.csv"
    lambda: 
        !eval "lambda x: 
            [x.replace('A@', f'H2(v{_from})').replace('B@', f'H2(v{_to})').replace('H2(v0)', 'H2')
            for _from in range(15)
            for _to in range(15) if _from < _to]"
    where:
        abbr:
            - cs_path: *H2_cs_path

- Rctn_block: &H2_ele_vib_rctn_backward
    <<: *H2_ele_vib_rctn_forward
    type:
        deexcitation
    threshold:
        !eval "[H2_vib_energy_in_eV(v=_to) - H2_vib_energy_in_eV(v=_from) 
                for _from in range(15) 
                for _to in range(15) if _from > _to]"
    lambda: 
        !eval "lambda x: 
            [x.replace('A@', f'H2(v{_from})').replace('B@', f'H2(v{_to})').replace('H2(v0)', 'H2')
            for _from in range(15)
            for _to in range(15) if _from > _to]"


# ----------------------------------------------------------------------------------------------- #
#   H2 dissociation to H atom.
# ----------------------------------------------------------------------------------------------- #
- Rctn_block: &_H2_ele_dis
    type:
        EXCITATION
    formula:
        E + A@ => E + H + H

- Rctn_block: &H2_ele_dis_rctn_via_b
    <<: *_H2_ele_dis
    threshold:
        [6.58, 4.06, 3.58, 3.12, 2.70,
         2.30, 1.94, 1.60, 1.30, 1.02,
         0.78, 0.56, 0.38, 0.22]
    kstr:
        "cs_path/H2(X)_to_H2(_b)_to_2H/A@_to_H2(b)_to_2H.csv"
    zip:
        A@: *H2_vib_0-13
    where:
        abbr:
            - cs_path: *H2_cs_path

- Rctn_block: &H2_ele_dis_rctn_via_B
    <<: *_H2_ele_dis
    threshold:
        # !eval ""
    kstr:
        "cs_path/H2(X)_to_H2(B)_to_2H/A@_to_H2(B)_to_2H.csv"
    zip:
        A@: *H2_vib_0-14
    where:
        abbr:
            - cs_path: *H2_cs_path

- Rctn_block: &H2_ele_dis_rctn_via_B_1
    <<: *_H2_ele_dis
    threshold:
        # !eval ""
    kstr:
        "cs_path/H2(X)_to_H2(B')_to_2H/A@_to_H2(B')_to_2H.csv"
    zip:
        A@: *H2_vib_0-14
    where:
        abbr:
            - cs_path: *H2_cs_path

- Rctn_block: &H2_ele_dis_rctn_via_B_2
    <<: *_H2_ele_dis
    threshold:
        # !eval ""
    kstr:
        "cs_path/H2(X)_to_H2(B'')_to_2H/A@_to_H2(B'')_to_2H.csv"
    zip:
        A@: *H2_vib_0-14
    where:
        abbr:
            - cs_path: *H2_cs_path
# ----------------------------------------------------------------------------------------------- #
- Rctn_block: &H2_ele_dis_att_rctn
    type:
        ATTACHMENT
    formula:
        E + A@ => H + H^-
    threshold:
        # !eval ""
    kstr:
        "cs_path/H2(X)_to_H2-_to_H+H-/@A_to_H2-_to_H+H-.csv"
    zip:
        A@: [H2, H2(v1), H2(v2), H2(v3), H2(v4), H2(v5)]
    where:
        abbr:
            - cs_path: *H2_cs_path



# ----------------------------------------------------------------------------------------------- #
- Rctn_block: &CO2_VT_with_CO
    type: VT
    formula:
        CO2(v1) + M@ => CO2 + M@
    kstr:   k10 * F
    where:
        - k10_0:  !LT [4.25e-1, -407, 824]
        - k10_1:  !LT [4.25e-1, -404, 1096]
        - k10_2:  !LT [4.25e-1, -252, 685]
        - k10:    k10_0 + k10_1 + k10_2
        - _mu:    22
        - _r:     4.587156
        # - dE:     !eval "CO2_energy[1] - CO2_energy[0]"
        - Lij:    0.32*dE/_r*sqrt(_mu/Tgas)
        - F:      0.5*(3-exp(Lij))*exp(Lij)
    zip:
        # M@: *CO_vib

- Rctn_block: &CO2_VT_with_CO_reversed
    <<: *CO2_VT_with_CO
    formula:
        CO2 + M@ => CO2(v1) + M@
    kstr:   k10 * F / dE


# ----------------------------------------------------------------------------------------------- #
- Rctn_block: &OH_VT
    type: VT
    formula:
        OH(v1) + M@ => OH + M@
    kstr:
        A@ * exp( 39.3 - 210 * Tgas**(-1/3) )
    zip:
        M@: [N2,  O2,  CO,  CO2, H2O]
        A@: [1.0, 3.0, 1.0, 7.0, 60.0]

- TEST: a
  <<: *OH_VT

# ----------------------------------------------------------------------------------------------- #
# ----------------------------------------------------------------------------------------------- #
- The reactions considered:
    # - *CO2_VT_with_CO
    electron reactions:
        H2_ele_vib_rctn_forward:  *H2_ele_vib_rctn_forward
        H2_ele_vib_rctn_backward: *H2_ele_vib_rctn_backward
        H2_ele_dis_rctn_via_b:    *H2_ele_dis_rctn_via_b
    # - *H2_ele_dis_rctn_via_B
    # - *H2_ele_dis_rctn_via_B_1
    # - *H2_ele_dis_rctn_via_B_2
